<div class="panel-top">

  <div class="folder-panel panel" (click)="setPath()">
    <div class="open-folder-icon" (click)="openFolder()">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3" 
      #icon
      ><path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"/></svg>
    </div>
    <div class="folder-icon type-icon">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Z"/></svg>
    </div>
  
    <p class="folder-name">{{folderData.name}}</p>
  
  </div>
  
  <div class="child-box">
    @if(folderData.open) {

      @if(childStatus() === 'fetching') {
        <div class="temp-panel">
          <div class="loading-icon">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q17 0 28.5 11.5T520-840q0 17-11.5 28.5T480-800q-133 0-226.5 93.5T160-480q0 133 93.5 226.5T480-160q133 0 226.5-93.5T800-480q0-17 11.5-28.5T840-520q17 0 28.5 11.5T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Z"/></svg>
          </div>
          <div class="Loading-text">
            Loading...
          </div>
        </div>
      } @else if (childStatus() === 'fetched') {
        @for(panel of folderData.children; track panel.id) {
          @if(panel.type === "folder") {
            <app-folder-panel
              [folderData]="panel">
            </app-folder-panel>
          } @else {
            <app-file-panel
            [folderData]="panel">
            </app-file-panel>
          }
        }
      }


    }
  </div>
  
</div>
